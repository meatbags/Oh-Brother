var Brother=function(t){function e(s){if(i[s])return i[s].exports;var r=i[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=e.Canvas=e.Loader=void 0;var r=i(1),h=s(r),a=i(2),n=s(a),o=i(3),c=s(o);e.Loader=h.default,e.Canvas=n.default,e.Parser=c.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){this.image=new Image,this.onload=null};s.prototype={load:function(t){this.image.onload=this.onload,this.image.src=t},getImageRaw:function(){return this.image}},e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){this.init()};s.prototype={init:function(){this.cvs={helper:document.createElement("canvas"),preview:document.createElement("canvas")},this.ctx={helper:this.cvs.helper.getContext("2d"),preview:this.cvs.preview.getContext("2d")},this.scale=3},drawImage:function(t){var e=this.ctx.helper,i=this.cvs.helper;i.width=t.width,i.height=t.height,e.clearRect(0,0,i.width,i.height),e.drawImage(t,0,0)},drawGrid:function(t){var e=this.cvs.helper,i=this.ctx.helper;i.fillStyle="rgba(255, 255, 255, 0.25)";for(var s=0;s<e.width;s+=t)i.fillRect(s,0,1,e.height);for(var r=0;r<e.height;r+=t)i.fillRect(0,r,e.width,1)},drawProcessed:function(t){var e=this.ctx.preview,i=this.cvs.preview,s=t.data;i.width=t.columns*this.scale,i.height=t.rows*this.scale*t.stretch,e.clearRect(0,0,i.width,i.height),e.fillStyle="#000";for(var r=0;r<s.length;r+=1)if(0==s[r]){var h=r%t.columns*this.scale,a=Math.floor(r/t.columns)*this.scale*t.stretch;e.fillRect(h,a,this.scale,this.scale*t.stretch)}},getHelperCanvas:function(){return this.cvs.helper},getPreviewCanvas:function(){return this.cvs.preview}},e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){this.needsUpdate=!0,this.loaded=!1,this.init()};s.prototype={init:function(){this.threshold=50,this.stretch=1,this.threadcount=200,this.size=10,this.data=[],this.result={}},imageToPixelArray:function(t){this.data=[],this.image=t;var e=document.createElement("canvas"),i=e.getContext("2d");e.width=t.width,e.height=t.height,i.drawImage(t,0,0);for(var s=i.getImageData(0,0,t.width,t.height).data,r=0;r<s.length;r+=4)this.data.push({r:s[r],g:s[r+1],b:s[r+2]});this.fitToImage(),this.loaded=!0},fitToImage:function(){this.size=this.image.width/this.threadcount,this.needsUpdate=!0},setSize:function(t){this.size=t,this.threadcount=Math.min(200,Math.floor(this.image.width/this.size)),this.needsUpdate=!0},setStretch:function(t){this.stretch=t,this.result.stretch=this.stretch},setThreshold:function(t){this.threshold=t,this.needsUpdate=!0},setThreadcount:function(t){this.threadcount=t,this.needsUpdate=!0},getBrightness:function(t){return(t.r+t.g+t.b)/3},process:function(){var t=Math.floor(this.image.height/this.size);this.image.width;this.result={rows:t,columns:this.threadcount,stretch:this.stretch,data:[]};for(var e=0;e<t;e+=1)for(var i=0;i<this.threadcount;i+=1){for(var s=0,r=0,h=Math.floor(i*this.size+e*this.image.width*this.size),a=0;a<this.size;a+=1)for(var n=0;n<this.size;n+=1)r+=1,s+=this.getBrightness(this.data[h+a+n*this.image.width]);s=s/r/255*100;var o=s>=this.threshold?1:0;this.result.data.push(o)}this.needsUpdate=!1},save:function(t,e){var i=new Blob([e],{type:"application/octet-stream"});saveAs(i,t)}},e.default=s}]);